<!DOCTYPE html>
<html lang="en">
<head>
    <title>Edit Expense | Expense Tracker</title>

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- App CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<div class="auth-container fade-in">
    <div class="auth-card">

        <h2>
            <i class="fa-solid fa-pen-to-square"></i>
            Edit Expense
        </h2>

        <p class="auth-subtitle">
            Update your expense details carefully
        </p>

        <form method="POST" onsubmit="handleSubmit()">

            <!-- Category -->
            <label>
                <i class="fa-solid fa-tags"></i>
                Category
            </label>
            <input
                type="text"
                name="category"
                value="{{ expense.category }}"
                placeholder="Food, Travel, Shopping"
                autocomplete="off"
                required
            >

            <!-- Description -->
            <label>
                <i class="fa-solid fa-align-left"></i>
                Description <span style="font-size:12px;color:#888;">(optional)</span>
            </label>
            <input
                type="text"
                name="description"
                value="{{ expense.description }}"
                placeholder="Short note about this expense"
            >

            <!-- Amount -->
            <label>
                <i class="fa-solid fa-indian-rupee-sign"></i>
                Amount (â‚¹)
            </label>
            <input
                type="number"
                name="amount"
                value="{{ expense.amount }}"
                step="0.01"
                min="0.01"
                inputmode="decimal"
                required
            >

            <!-- Submit -->
            <button type="submit" class="auth-btn" id="submitBtn">
                <i class="fa-solid fa-check"></i>
                Update Expense
            </button>
        </form>

        <div class="auth-footer">
            <a href="{{ url_for('index') }}">
                <i class="fa-solid fa-arrow-left"></i>
                Back to Dashboard
            </a>
        </div>

    </div>
</div>

<!-- ================= SCRIPT ================= -->
<script>
function handleSubmit() {
    const btn = document.getElementById("submitBtn");
    btn.disabled = true;
    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Updating...';
}
</script>

</body>
</html>
