<!DOCTYPE html>
<html lang="en">
<head>
    <title>Add Expense | Expense Tracker</title>

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- App CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<div class="auth-container fade-in">
    <div class="auth-card">

        <h2>
            <i class="fa-solid fa-circle-plus"></i>
            Add New Expense
        </h2>

        <p class="auth-subtitle">
            Record your spending details accurately
        </p>

        <form method="POST" onsubmit="handleSubmit()">

            <!-- Date -->
            <label>
                <i class="fa-solid fa-calendar-days"></i>
                Date
            </label>
            <input
                type="date"
                name="date"
                value="{{ request.form.date or '' }}"
                required
            >

            <!-- Category -->
            <label>
                <i class="fa-solid fa-tags"></i>
                Category
            </label>
            <input
                type="text"
                name="category"
                placeholder="Food, Travel, Shopping, Rent"
                autocomplete="off"
                required
            >

            <!-- Description -->
            <label>
                <i class="fa-solid fa-pen"></i>
                Description <span style="font-size:12px;color:#888;">(optional)</span>
            </label>
            <input
                type="text"
                name="description"
                placeholder="e.g. Lunch with friends"
            >

            <!-- Amount -->
            <label>
                <i class="fa-solid fa-indian-rupee-sign"></i>
                Amount
            </label>
            <input
                type="number"
                name="amount"
                step="0.01"
                min="0.01"
                inputmode="decimal"
                placeholder="0.00"
                required
            >

            <!-- Submit -->
            <button type="submit" class="auth-btn" id="submitBtn">
                <i class="fa-solid fa-plus"></i>
                Add Expense
            </button>
        </form>

        <div class="auth-footer">
            <a href="{{ url_for('index') }}">
                â¬… Back to Dashboard
            </a>
        </div>

    </div>
</div>

<!-- ================= SCRIPT ================= -->
<script>
function handleSubmit() {
    const btn = document.getElementById("submitBtn");
    btn.disabled = true;
    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Saving...';
}
</script>

</body>
</html>
